import ora from 'ora';

/**
 * Catch all error that throws from a runner function
 *
 * @param {Function} fn
 * @return {Function}
 */
export function handleError(fn: (...args: any) => Promise<any>) {
  return (...args: any) => {
    fn(...args).catch((e: Error) => {
      const spinner = ora().start();
      spinner.fail(e.message);
      process.exit(0);
    });
  };
}
