import ora from 'ora';
import path from 'path';
import {generateFile} from '../../helpers/template';

/**
 * Create a new reducer file for React with preset
 *
 * @param {string} name
 * @return {Promise<void>}
 */
export default async function makeReducer(name: string) {
  const spinner = ora().start();
  spinner.start(`Generating reducer: ${name}`);
  const cwd = process.cwd();
  const writingFilePath = path.resolve(
    cwd,
    `packages/assets/src/reducers/${name}Reducer.js`
  );
  await generateFile(
    'reducer',
    {
      name
    },
    writingFilePath
  );
  spinner.succeed(`Congratulations! Generate reducer: ${name} successfully`);
}
